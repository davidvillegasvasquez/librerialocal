{% load static %} <!-- Sin esta etiqueta no se cargará el favicon que está en el directorio de los estáticos. -->
<!DOCTYPE html>
<html>
<title>Librería Local</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Link para el favicon: -->
<link rel="icon" type="image/svg" href="{% static '/images/djangoIco.svg' %}">
<!-- Link para css: -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">

<body>
  <div class="w3-sidebar w3-light-grey w3-bar-block" style="width:25%">
      {% block barraLateral %}
      <h3 class="w3-bar-item">Menu</h3>
      <a href="{% url 'vistaHome' %}" class="w3-bar-item w3-button">Home</a>
      <a href="{% url 'todosLoslibros' %}" class="w3-bar-item w3-button">Todos los libros</a>
      <a href="{% url 'toditicosLosAutores' %}" class="w3-bar-item w3-button">Todos los autores</a>
      <a href="/admin" class="w3-bar-item w3-button">Ir a admin</a>
      <a href="{% url 'resetearVisitas' %}" class="w3-bar-item w3-button">Reestablecer contador</a>
          {% if user.is_authenticated %}
            <span class="w3-bar-item">Usuario: {{ user.get_username }} {% if user.groups.all.0.name == "bibliotecarios" %} es bibliotecario {% if user.is_staff %} y perteneca al staff (puede eliminar libros y autores){% endif %}{% else %} y es un usuario normalito{% endif %}</span>
            
      <a href="{% url 'misLibrosalquilados' user.get_username %}" class="w3-bar-item w3-button">Libros en manos de {{ user.get_username }} </a>
      <a href="{% url 'logout'%}?next={{request.path}}" class="w3-bar-item w3-button">Cerrar sesión</a>      
            {% if perms.catalogo.puedeMarcarRetornado %}
              <hr>
              <span class="w3-bar-item">Bibliotecario</span>
              <a href="{% url 'librosAlquiladosActualmente' %}" class="w3-bar-item w3-button">Todos los libros prestados actualmente por la biblioteca</a>
              <a href="{% url 'crearautorini' %}" class="w3-bar-item w3-button">Crear Autor</a>
              <a href="{% url 'crearlibro' %}" class="w3-bar-item w3-button">Crear Libro</a>
              {% endif %}
          {% else %}
              <a href="{% url 'login'%}?next={{request.path}}" class="w3-bar-item w3-button">Iniciar sesión</a>
       {% block formLogeo %}{% endblock %}
       {% endif %}   
          
     {% endblock %}
  </div>

<!-- Bloque de contenido para el menú: -->
<div style="margin-left:25%">
  <div class="w3-container w3-teal">
  <h1>Librería Municipal Pio Tamayo</h1>
  </div>

<!-- Bloque para sobreescribir en la plantilla heredera o hija -->
  {% block content %}{% endblock %}

<!-- Comienzo bloque de implementación de la paginación: -->
  {% block pagination %}
  {% if is_paginated %}
    <div class="w3-panel w3-center">
      <div class="w3-center w3-bar w3-border pagination w3-center" style="width:43%">
          <!-- <div class="page-links w3-bar-item"> -->
               
             <div class="w3-bar-item">
                  {% if page_obj.has_previous %}
                  <a href="{{ request.path }}?page={{ page_obj.previous_page_number }}" class="w3-button">&#10094;</a>
                  {% else %}
                  <span class="w3-button">&#10094;</span>
                  {% endif %}
             </div>
              
              <div class="w3-bar-item">
               <button class="w3-button" style="pointer-events: none">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
               </button>
              </div>
              <div class="w3-bar-item">
                  {% if page_obj.has_next %}
                  <a href="{{ request.path }}?page={{ page_obj.next_page_number }}" class="w3-button">&#10095;</a>
                  {% else %}
                  <span class="w3-button">&#10095;</span>
                  {% endif %}
              </div>  
       </div>
    </div>
    <!-- Fin del bloque de la implementación de la paginación -->
  {% endif %}
{% endblock %}

   </div>
  </div>

</body>
</html>
